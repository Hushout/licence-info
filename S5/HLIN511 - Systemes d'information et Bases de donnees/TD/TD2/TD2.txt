//TD2 HLIN511

//Q1 
SELECT * 
FROM EXEMPLAIRE 
WHERE CODE_PRET='EMPRUNTABLE';

//Q2 
SELECT ISBN, TITRE, CATEGORIE 
FROM LIVRE 
WHERE TITRE LIKE '%ROSE%'
ORDER BY ISBN DESC;

//Q3
SELECT NUM_EX, CODE_PRET, ETAT
FROM EMPRUNT, EXEMPLAIRE, LIVRE
WHERE NUM_EX = NUMERO 
AND EXEMPLAIRE.ISBN = LIVRE.ISBN 
AND TITRE = 'LE MUR';

//Q4
SELECT NUMERO, CODE_PRET, TITRE
FROM EXEMPLAIRE, LIVRE, CARACTERISE
WHERE EXEMPLAIRE.ISBN = LIVRE.ISBN 
AND LIVRE.ISBN = CARACTERISE.ISBN
AND MOT = 'INFORMATIQUE';

//Q5
SELECT ABONNE.NUM_AB, NOM 
FROM ABONNE, EMPRUNT, EXEMPLAIRE, LIVRE
WHERE ABONNE.NUM_AB = EMPRUNT.NUM_AB
AND EMPRUNT.NUM_EX = EXEMPLAIRE.NUMERO
AND EXEMPLAIRE.ISBN = LIVRE.ISBN
AND LIVRE.TITRE = 'LE MUR';

//Q6
SELECT COUNT(*)
FROM ABONNE;

//Q7
SELECT COUNT(*)
FROM ABONNE, EMPRUNT
WHERE ABONNE.NUM_AB = EMPRUNT.NUM_AB
AND NOM = 'RENARD'
AND PRENOM = 'ALBERT';

//Q8
SELECT COUNT(*)
FROM ABONNE, EMPRUNT, EXEMPLAIRE, LIVRE
WHERE ABONNE.NUM_AB = EMPRUNT.NUM_AB
AND EMPRUNT.NUM_EX = EXEMPLAIRE.NUMERO
AND EXEMPLAIRE.ISBN = LIVRE.ISBN
AND TITRE = 'LE MIRACLE DE LA ROSE';

//Q9
SELECT AVG(PRIX) AS PRIXMOYEN
FROM EXEMPLAIRE, LIVRE
WHERE EXEMPLAIRE.ISBN = LIVRE.ISBN
AND CATEGORIE = 'ROMAN';
