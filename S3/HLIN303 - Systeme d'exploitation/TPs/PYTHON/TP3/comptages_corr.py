#!/usr/bin/env python3
import os,sys,re

tab={}

def parcours(rep):
    liste=os.listdir(rep)
    for fic in liste:
        if os.path.isdir(rep+"/"+fic) and not os.path.islink(rep+"/"+fic):
            parcours(rep+"/"+fic)
        else:
            res=re.search(".*(\.\w+)$",fic)
            if res:
                if res.group(1) in tab.keys():
                    tab[res.group(1)]+=1
                else:
                    tab[res.group(1)]=1


if len(sys.argv)!=2 or not os.path.isdir(sys.argv[1]):
    print("Usage :", sys.argv[0], "repertoire")
    sys.exit(1)
parcours(sys.argv[1])
for ext in tab.keys():
    print(ext,":",tab[ext])
sys.exit(0)
            
